/**
 * RTM app: Namer
 * RTM req: 001 Generates ranom human readable but unique names on demand
 * RTM req: 002 Creates names by concatinating an adjactive, noun, and two random digits
 * RTM req: 003 Finds names in files adj.txt and noun.txt
 **/

#include <stdio.h>
#include <stdint.h>
#include <stdlib.h>
#include <assert.h>
#include <string.h>

#define BUNUEL_PIN_API_1
#define BUNUEL_STRIP_PREFIX
#include <bunuel.h>

static char *adjectives[] = {
	"aliased",
	"alien",
	"ambient",
	"angelic",
	"agnostic",
	"anonymous",
	"anti",
	"automatic",
	"bad",
	"bankrupt",
	"barefoot",
	"basic",
	"beat",
	"beautiful",
	"beloved",
	"better",
	"big",
	"bitter",
	"black",
	"blank",
	"blind",
	"blue",
	"bold",
	"bratty",
	"brave",
	"brief",
	"brutal",
	"burning",
	"busy",
	"caustic",
	"cheap",
	"cinnamon",
	"circular",
	"clever",
	"cold",
	"cool",
	"complex",
	"confused",
	"criminal",
	"crossed",
	"cruel",
	"dancing",
	"dark",
	"deadly",
	"deep",
	"distant",
	"double",
	"dry",
	"easy",
	"ecstatic",
	"effulgent",
	"electric",
	"fabulous",
	"fancy",
	"fast",
	"first",
	"fizzy",
	"fluffy",
	"folk",
	"foolish",
	"frozen",
	"fuzzy",
	"goddamn",
	"ghost",
	"giant",
	"glowing",
	"good",
	"greasy",
	"green",
	"grey",
	"groovy",
	"happy",
	"hated",
	"hilarious",
	"hip",
	"hopeful",
	"hot",
	"human",
	"hysterical",
	"idle",
	"indie",
	"industrial",
	"iron",
	"jealous",
	"joking",
	"joyous",
	"kafkaesque",
	"keen",
	"key",
	"killing",
	"kind",
	"kinesthetic",
	"kooky",
	"last",
	"latex",
	"limp",
	"little",
	"logical",
	"lonesome",
	"loose",
	"loving",
	"loud",
	"lumpy",
	"mad",
	"magical",
	"major",
	"manic",
	"meta",
	"metallic",
	"mindless",
	"minor",
	"musical",
	"naked",
	"national",
	"nebulous",
	"negative",
	"neon",
	"new",
	"noble",
	"noisy",
	"numb",
	"oblique",
	"oily",
	"orange",
	"oscillating",
	"outer",
	"pink",
	"plastic",
	"polar",
	"pop",
	"punk",
	"purple",
	"quick",
	"raw",
	"regular",
	"real",
	"residual",
	"sad",
	"sarcastic",
	"savage",
	"secret",
	"second",
	"scary",
	"schizoid",
	"scrambled",
	"sexy",
	"sharp",
	"shaved",
	"shining",
	"silent",
	"silly",
	"silver",
	"simple",
	"single",
	"slimy",
	"sloppy",
	"smart",
	"soft",
	"sonic",
	"space",
	"special",
	"spicy",
	"stark",
	"starving",
	"stiff",
	"still",
	"strange",
	"sub",
	"substitute",
	"steel",
	"strong",
	"super",
	"sweet",
	"talking",
	"teenage",
	"tiny",
	"total",
	"toxic",
	"tragic",
	"tricky",
	"triple",
	"tropical",
	"union",
	"untold",
	"unkempt",
	"unknown",
	"urgent",
	"useless",
	"vampire",
	"velvet",
	"violet",
	"visceral",
	"voodoo",
	"wet",
	"white",
	"whomping",
	"x-ray",
	"yellow",
	"young",
	"zombie",
};
size_t num_adjectives = sizeof(adjectives) / sizeof(adjectives[0]);

static char *nouns[] = {
	"airplane",
	"alias",
	"alien",
	"angel",
	"ant",
	"anthem",
	"apple",
	"argument",
	"art",
	"ass",
	"atom",
	"bat",
	"bear",
	"beat",
	"beast",
	"bee",
	"being",
	"bike",
	"bicycle",
	"bird",
	"bleach",
	"book",
	"boot",
	"booty",
	"bowl",
	"boy",
	"brain",
	"brat",
	"breast",
	"brute",
	"bug",
	"building",
	"business",
	"butt",
	"butter",
	"carpet",
	"cat",
	"chain",
	"cheese",
	"church",
	"city",
	"coffee",
	"color",
	"country",
	"cowboy",
	"damage",
	"day",
	"death",
	"device",
	"disease",
	"dog",
	"doll",
	"dolphin",
	"door",
	"dove",
	"drum",
	"eagle",
	"egret",
	"embrace",
	"ethic",
	"eye",
	"face",
	"fairy",
	"ferret",
	"field",
	"finger",
	"fire",
	"fish",
	"flag",
	"flower",
	"force",
	"formula",
	"fox",
	"fruit",
	"fucker",
	"garage",
	"genius",
	"ghost",
	"giant",
	"girl",
	"gorilla",
	"hammer",
	"hat",
	"head",
	"heart",
	"hobo",
	"holiday",
	"hour",
	"house",
	"human",
	"idol",
	"iron",
	"jackknife",
	"jaw",
	"joke",
	"joy",
	"judge",
	"key",
	"king",
	"kiss",
	"knot",
	"knuckle",
	"lamb",
	"laughter",
	"law",
	"life",
	"lion",
	"lip",
	"lizard",
	"lock",
	"loop",
	"lord",
	"love",
	"machine",
	"map",
	"metal",
	"minute",
	"monkey",
	"monster",
	"nation",
	"neck",
	"orb",
	"orbit",
	"order",
	"organ",
	"otter",
	"paint",
	"panda",
	"peace",
	"pelvis",
	"pencil",
	"pigeon",
	"plastic",
	"poem",
	"point",
	"pole",
	"power",
	"prince",
	"princess",
	"pulley",
	"punk",
	"quail",
	"queen",
	"quiz",
	"rainbow",
	"rat",
	"raygun",
	"robot",
	"rock",
	"rocket",
	"saw",
	"shark",
	"ship",
	"shirt",
	"shoe",
	"sister",
	"skateboard",
	"skull",
	"sky",
	"slime",
	"space",
	"squirrel",
	"star",
	"steel",
	"summer",
	"sweat",
	"teen",
	"television",
	"theory",
	"thing",
	"thorax",
	"thump",
	"tiger",
	"toe",
	"tool",
	"torso",
	"traffic",
	"tree",
	"truck",
	"turkey",
	"uncle",
	"union",
	"unicorn",
	"vampire",
	"vegetable",
	"vulture",
	"wall",
	"water",
	"wave",
	"winter",
	"wolverine",
	"word",
	"world",
	"x",
	"yard",
	"year",
	"youth",
	"zebra",
	"zero",
	"zombie",
};
size_t num_nouns = sizeof(nouns) / sizeof(nouns[0]);

char* rand_adj() {
	uint32_t x = arc4random_uniform(num_adjectives);
	return adjectives[x];
}

char* rand_noun() {
	uint32_t x = arc4random_uniform(num_nouns);
	return nouns[x];
}

Str32 rand_digits(size_t n) {
	assert(n < 32);
	Str32 ds = {""};
	for(size_t i = 0; i < n; i++) {
		uint32_t n = arc4random_uniform(10);
		Str32 d = {""};
		snprintf(d.text, sizeof(char) * 2, "%d", n);
		ds = join_str32(ds, d);
	}
	return ds;
}

static Str32 dash = {"-"};

// RTM impl: 002
static Str32 gen_name() {
	Str32 adj, noun;
	strcpy(adj.text, rand_adj());
	strcpy(noun.text, rand_noun());
	Str32 name = join_str32(adj, dash);
	name = join_str32(name, noun);
	name = join_str32(name, dash);
	return join_str32(name, rand_digits(2));
}

int main() {
	Str32 name = gen_name();
	logln(name.text);
	return 0;
}
